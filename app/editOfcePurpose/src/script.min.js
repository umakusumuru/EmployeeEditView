/*
 kaakateeyaangularapplication 2017-03-15 
*/
!function(angular){"use strict";function controller(editOfcePurposeModel,scope){var vm=this;vm.init=function(){vm.model=editOfcePurposeModel,vm.model.scope=scope},vm.init()}angular.module("KaakateeyaEmpEdit").controller("editOfcePurposeCtrl",controller),controller.$inject=["editOfcePurposeModel","$scope"]}(angular),function(angular){"use strict";function factory(editOfcePurposeService,authSvc,alertss,commonFactory,uibModal){var model={};model.scope={};var logincustid=authSvc.getCustId(),custID=void 0!==logincustid&&null!==logincustid&&""!==logincustid?logincustid:null;return model.dataval="",model.aboutObj={},model.init=function(){return model.pageload(),model},model.pageload=function(){editOfcePurposeService.getofficeData("1",custID,"").then(function(response){console.log(response),response.data.length>0&&(model.dataval=response.data[0].length>0?JSON.parse(response.data[0])[0].AboutProfile:""),console.log(model.dataval)})},model.cancel=function(){commonFactory.closepopup()},model.showPopup=function(val){model.aboutObj.txtAboutprofile="",void 0!==val&&(model.aboutObj.txtAboutprofile=val),commonFactory.open("AboutModalContent.html",model.scope,uibModal)},model.AboutProfleSubmit=function(str){editOfcePurposeService.getofficeData("2",custID,str).then(function(response){console.log(response),commonFactory.closepopup(),1===response.data?(model.dataval=str,alertss.timeoutoldalerts(model.scope,"alert-success","submitted Succesfully",4500)):alertss.timeoutoldalerts(model.scope,"alert-danger","Updation failed",4500)})},model.init()}angular.module("KaakateeyaEmpEdit").factory("editOfcePurposeModel",factory),factory.$inject=["editOfcePurposeService","authSvc","alert","commonFactory","$uibModal"]}(angular),function(angular){"use strict";function factory(http){return{getofficeData:function(iflag,obj,text){return http.get(editviewapp.apipath+"CustomerPersonal/getCustomerPersonaloffice_purpose",{params:{flag:iflag,ID:obj,AboutProfile:text,IsConfidential:"",HighConfendential:""}})}}}angular.module("KaakateeyaEmpEdit").factory("editOfcePurposeService",factory),factory.$inject=["$http"]}(angular);